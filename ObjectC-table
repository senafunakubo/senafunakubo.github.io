//
//  FirstTableViewController.m
//  ShoppingCartApp
//
//  Created by Sena Funakubo on 2017-03-15.
//  Copyright © 2017 Sena Funakubo. All rights reserved.
//

#import "FirstTableViewController.h"

@interface FirstTableViewController ()
@property(strong,nonatomic)NSMutableArray<NSString*>* itemsForSection0;

@end

@implementation FirstTableViewController

- (void)viewDidLoad {
    [super viewDidLoad];

    self.firstTableView.delegate = self;
    self.firstTableView.dataSource = self;

    self.itemsForSection0 = [@[@"Cloth",@"Drink",@"Food"]mutableCopy];
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

-(UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
//what information do you wanna show by the indexPath
    if(indexPath.row==0)
    {
        //Step 1: Cell creation and Reuse
        //I need to declare it in mainboard"s Identifier

        FirstTableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:@"FirstTableViewCellID"];

         if(!cell)
         {
            cell = [[FirstTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"FirstTableViewCellID"];
         }

        //step 2: Data Binding
        cell.myImage.image = [UIImage imageNamed:@"cloth"];

        return cell;
    }
    else if(indexPath.row==1)
    {
        FirstTableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:@"FirstTableViewCellID"];

         if(!cell)
         {
            cell = [[FirstTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"FirstTableViewCellID"];
         }

        cell.myImage.image = [UIImage imageNamed:@"coffee"];

        return cell;
    }
    else
    {
        FirstTableViewCell* cell = [tableView dequeueReusableCellWithIdentifier:@"FirstTableViewCellID"];

        if(!cell)
        {
            cell = [[FirstTableViewCell alloc]initWithStyle:UITableViewCellStyleDefault reuseIdentifier:@"FirstTableViewCellID"];
        }

        cell.myImage.image = [UIImage imageNamed:@"food"];

        return cell;
    }

}


-(CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(indexPath.section==0)
    {
        return 133;
    }
    else
    {
        return 70;
    }

}

-(void) tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath
{
    if(indexPath.row==0) //cloth
    {
        UIStoryboard* storyboard = [UIStoryboard storyboardWithName:@"Main" bundle:NULL];


        ClothTableViewController* vc = (ClothTableViewController*)[storyboard instantiateViewControllerWithIdentifier:@"ClothTableViewControllerID"];

        [self presentViewController:vc animated:YES completion:NULL];

    }
    else if(indexPath.row==1) //drink
    {

    }
    else if(indexPath.row==2)  //food
    {

    }
}

-(NSInteger)numberOfSectionsInTableView:(UITableView *)tableView
{
    return 1; //1セクションを使い回す
}



-(NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return self.itemsForSection0.count; //mutablearrayに従って3になる
}


@end
